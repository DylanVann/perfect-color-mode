window.__perfect_color_mode__=(()=>{const r=["light","dark"],l="perfect-color-mode",c=matchMedia!==void 0;let o,a;const p=e=>r.includes(e)?e:r[0],u=e=>e?"dark":"light",v=()=>{const e=localStorage.getItem(l);return e!==null?p(e):void 0},h=()=>c?(o=matchMedia("(prefers-color-scheme: dark)"),u(o.matches)):void 0,g=()=>{const e=v();if(e!==void 0)return e;const s=h();return s?(b(),s):r[0]},n=e=>d(u(e.matches),!1),f="addEventListener",b=()=>{!a&&c&&(a=!0,o[f]?o[f]("change",n):o.addListener(n))},m="removeEventListener",C=()=>{a&&c&&(a=!1,o[m]?o[m]("change",n):o.removeListener(n))};let t;const M=document.documentElement,d=(e,s)=>{M.classList.remove(t),M.classList.add(e),s&&(e===void 0?(localStorage.removeItem(l),b()):(localStorage.setItem(l,e),C())),t=e,i.forEach(S=>S(e))},i=new Set;return d(g(),!1),{mode:{get:()=>t,subscribe:e=>(e(t),i.add(e),()=>i.delete(e)),set:e=>{d(e,!0)},update:e=>{d(e(t),!0)}},colorModes:r}})();
