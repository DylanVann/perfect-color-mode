window.__perfect_color_mode__=(()=>{const l=["light","dark"],c="perfect-color-mode",f=(()=>{const t=o=>o?"dark":"light",a=new Set,d=matchMedia("(prefers-color-scheme: dark)");let n;const r=o=>{const e=t(o.matches);n=e,a.forEach(u=>u(e))};return d.addEventListener?d.addEventListener("change",r):d.addListener(r),r(d),{subscribe(o){return o(n),a.add(o),()=>{a.delete(o)}}}})(),s=(()=>{const t=e=>e?l.includes(e)?e:l[0]:void 0,a=new Set;let d;const n=e=>{e!==void 0?localStorage.setItem(c,e):localStorage.removeItem(c),a.forEach(u=>u(e))},r=localStorage.getItem(c),o=t(r);return d=o,{subscribe:e=>(e(o),a.add(e),()=>a.delete(e)),set:n,update:e=>n(e(d))}})(),b=(()=>{let t,a;const d=()=>t||a,n=new Set;return s.subscribe(r=>{t=r,n.forEach(o=>o(d()))}),f.subscribe(r=>{a=r,n.forEach(o=>o(d()))}),{subscribe:r=>(n.add(r),r(d()),()=>n.delete(r)),set:s.set,update:s.update}})(),M=document.documentElement;let i;return b.subscribe(t=>{i&&M.classList.remove(i),t&&M.classList.add(t),i=t}),{mode:b,colorModes:l}})();
