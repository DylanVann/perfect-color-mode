window.__perfect_dark_mode__=(()=>{const l=["light","dark"],s="perfect-dark-mode",M=(()=>{const a=r=>r?"dark":"light",t=new Set,d=matchMedia("(prefers-color-scheme: dark)");let n;const o=r=>{const e=a(r.matches);n=e,t.forEach(b=>b(e))};return d.addEventListener?d.addEventListener("change",o):d.addListener(o),o(d),{subscribe(r){return r(n),t.add(r),()=>{t.delete(r)}}}})(),c=(()=>{const a=e=>e?l.includes(e)?e:l[0]:void 0,t=new Set;let d;const n=e=>{e!==void 0?localStorage.setItem(s,e):localStorage.removeItem(s),t.forEach(b=>b(e)),d=e},o=localStorage.getItem(s),r=a(o);return d=r,{subscribe:e=>(e(r),t.add(e),()=>t.delete(e)),set:n,update:e=>n(e(d))}})(),f=(()=>{let a,t;const d=()=>a||t,n=new Set;return c.subscribe(o=>{a=o,n.forEach(r=>r(d()))}),M.subscribe(o=>{t=o,n.forEach(r=>r(d()))}),{subscribe:o=>(n.add(o),o(d()),()=>n.delete(o)),set:c.set,update:o=>c.set(o(d()))}})(),i=document.documentElement;let u;return f.subscribe(a=>{u&&i.classList.remove(u),a&&i.classList.add(a),u=a}),i.classList.add("pdm"),{mode:f,colorModes:l}})();
//# sourceMappingURL=index.js.map
