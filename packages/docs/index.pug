include ./badge
include ./simpleBadge
doctype html
html(data-pdm="light dark blue" lang="en")
    head
        meta(name="viewport" content="width=device-width,initial-scale=1")
        meta(charset="utf-8")
        meta(name="description" content="Perfect dark mode, no flicker, framework agnostic.")
        title Perfect Dark Mode
        link(rel="icon" type="image/png" href="images/light.png")
        script(src="perfect-dark-mode/dist/index.js")
        link(rel="stylesheet" href="tailwind.css")
        link(rel="preload" as="font" href="libre-baskerville-latin-700-normal.woff2" type="font/woff2" crossorigin="anonymous")
        link(rel="preload" as="font" href="montserrat-latin-400-normal.woff2" type="font/woff2" crossorigin="anonymous")
        link(rel="preload" as="font" href="montserrat-latin-700-normal.woff2" type="font/woff2" crossorigin="anonymous")

        link(class="codestyle light blue" rel="stylesheet" href="/syntax/prism-base16-ateliersulphurpool.light.css" media="(prefers-color-scheme: light)")
        link(class="codestyle dark" rel="stylesheet" href="/syntax/prism-nord.css" media="(prefers-color-scheme: dark)")

        style
            include ./index.css
    body
        - var outline = ['focus:outline-none focus:shadow-outline focus:border-yellow-300']
        div.container.px-3.mb-3
            div.header.flex.items-center.justify-between.flex-col.my-3(class="md:flex-row md:my-6")
                h1.mb-3.title(class="md:mb-0") <i class="emoji dark"></i><i class="emoji light"></i> Perfect Dark Mode
                button.rounded-sm.pdm-toggle.flex.flex-col.items-center(style="visibility: hidden;" class=outline)
                    span.label <i class="emoji light"></i> color mode
                    span.text-xs (Click Me)

            div.flex.space-x-2.justify-center(class="md:justify-start")
                a.badge.rounded-sm.overflow-hidden(href='https://www.npmjs.com/package/perfect-dark-mode' target="blank" rel="noopener" class=outline)
                    +badge("npm", version)
                a.badge.rounded-sm.overflow-hidden(href='https://bundlephobia.com/result?p=perfect-dark-mode' target="blank" rel="noopener" class=outline)
                    +badge("size", size)
                a.badge.rounded-sm.overflow-hidden(href="https://github.com/DylanVann/perfect-dark-mode" target="blank" rel="noopener" class=outline)
                    +simpleBadge("GitHub")

        div.prose.px-3.pb-10
            include:markdown features.md

            p
                | Created by
                |
                a.rounded-sm(href="https://twitter.com/atomarranger" target="blank" rel="noopener" class=outline) @atomarranger

            hr

            h2 Minimal Example

            p It's so minimal you can just view source.

            p By default we use the system color mode.
            // This needs to be hidden initially because we don't know the color mode yet.
            // It will be shown by the JS.
            // For users with JS disabled there will not be a color mode toggle, they can change
            // their system color mode.
            p You can set the color mode, this will be saved.
            button.rounded-sm.pdm-toggle(style="visibility: hidden;" class=outline)
                span.label <i class="emoji light"></i> color mode
            p You can reset the color mode and fallback to system color mode.
            button.rounded-sm.pdm-reset(class=outline) Reset
            p For debugging and understanding here is the saved color mode and the OS color mode.
            p The displayed color mode is <code>SavedColorMode || OSColorMode</code>.
            pre
                code#mode-saved Saved Color Mode:
            pre
                code#mode-os OS Color Mode:

            :markdown
                ## More Color Modes

                Perfect Dark Mode allows for more than just `light` and `dark` color modes.

                On initialization PDM will read a list of modes from the `<html>` element's `data-pdm` attribute.
                These become available on `.modes`.
                `.modes` is a `Writable` like `.mode`, so it can also be `set` or `update`ed.

            select.pdm-select(name="color mode", class=outline)
                option(value="light") light
                option(value="dark") dark

            include:markdown usage.md

            hr

            - var label = 'block text-gray-700 text-sm font-bold mb-2'
            - var input = 'shadow appearance-none border rounded-sm w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline bg-white'

            p.mb-4
                strong Join my Newsletter
                br
                | I'll send you an email when I have something interesting to show.
            form.subscribe.relative
                div.subscribed.absolute.top-0.bottom-0.left-0.right-0.flex.items-center.justify-center.bg-white.hidden Subscribed!
                div.content.flex.flex-col.space-y-4
                    div
                        label(for='name' class=label) Name
                        input(type='text' name='name' placeholder="Name" class=input)
                    div
                        label(for='email' class=label) Email
                        input(required='' name='email' type='email' placeholder="Email" class=input)
                    button.rounded-sm.overflow-hidden(type='submit') Subscribe
                    a(href='https://twitter.com/atomarranger' target="blank" rel="noopener" class=outline) Or follow me on Twitter for more stuff like this.

            script
                include ./index.js
